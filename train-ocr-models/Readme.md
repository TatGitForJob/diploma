
# üß† OCR —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Å–ª–æ–≤ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–ü–∞–ø–∫–∞ –ø–æ—Å–≤—è—â—ë–Ω–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—é —Å–ª–æ–≤ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –∏–∑ PDF-–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¢–æ—Ç–∞–ª—å–Ω–æ–≥–æ –¥–∏–∫—Ç–∞–Ω—Ç–∞ 2024 –≥–æ–¥–∞. –ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî –æ—Ü–µ–Ω–∏—Ç—å —Ä–∞–±–æ—Ç—É OCR-–º–æ–¥–µ–ª–µ–π –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ prepare_data.py                     # –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ PDF + XLSX
‚îú‚îÄ‚îÄ translit.py                         # –ü–µ—Ä–µ–≤–æ–¥ –∏–º—ë–Ω —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫ –Ω–∞ –ª–∞—Ç–∏–Ω–∏—Ü—É
‚îú‚îÄ‚îÄ easyocr_tesseractocr_eval_words.ipynb  # –û—Ü–µ–Ω–∫–∞ OCR-–º–æ–¥–µ–ª–µ–π EasyOCR –∏ TesseractOCR
‚îî‚îÄ‚îÄ check.py                            # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –ø—É—Ç–µ–π –≤ CSV –∏ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
```

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ —Ñ–∞–π–ª—ã:
```
‚îú‚îÄ‚îÄ Moscow_pdf/                         # –ò—Å—Ö–æ–¥–Ω—ã–µ PDF —Å —Å–∏–Ω–∏–º–∏ –Ω–∞–¥–ø–∏—Å—è–º–∏
‚îú‚îÄ‚îÄ Moscow_xlsx/                        # Excel —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ –∏ –∏–º–µ–Ω–∞–º–∏
‚îú‚îÄ‚îÄ part_1/                             # –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ a/, b/, ..., z/                 # –ü–æ–¥–ø–∞–ø–∫–∏ –ø–æ –ø–µ—Ä–≤–æ–π –±—É–∫–≤–µ —Å–ª–æ–≤–∞ (–≤ —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ)
‚îÇ   ‚îî‚îÄ‚îÄ all_files_final.csv            # –§–∏–Ω–∞–ª—å–Ω—ã–π CSV —Å –º–µ—Ç–∫–∞–º–∏ –∏ –ø—É—Ç—è–º–∏
‚îú‚îÄ‚îÄ part_1.zip                          # –ê—Ä—Ö–∏–≤ —Å –¥–∞—Ç–∞—Å–µ—Ç–æ–º
```

---

## üì¶ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

–°–∫—Ä–∏–ø—Ç `prepare_data.py`:
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç Excel –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ PDF
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç 3 —Å—Ç—Ä–æ–∫–∏: —Ñ–∞–º–∏–ª–∏—è, –∏–º—è, –∫–æ–¥–æ–≤–æ–µ —Å–ª–æ–≤–æ
- –û–±—Ä–µ–∑–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –ø–æ –∑–∞—Ä–∞–Ω–µ–µ –∑–∞–¥–∞–Ω–Ω—ã–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º
- –í—ã–¥–µ–ª—è–µ—Ç —Ç–µ–∫—Å—Ç –ø–æ —Å–∏–Ω–µ–º—É —Ü–≤–µ—Ç—É
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ª–æ–≤ –≤ –ø–∞–ø–∫–∏ –ø–æ –ø–µ—Ä–≤–æ–π –±—É–∫–≤–µ (–≤ —Ç—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏–∏)
- –°–æ–∑–¥–∞—ë—Ç `CSV` —Ñ–∞–π–ª —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏:

| id | new_path                   | word_true |
|----|----------------------------|-----------|
| 0  | ./part_1/b/baulina_0.jpg   | –±–∞—É–ª–∏–Ω–∞   |

---

## üî† –¢—Ä–∞–Ω—Å–ª–∏—Ç–µ—Ä–∞—Ü–∏—è

`translit.py`:
- –ü–µ—Ä–µ–≤–æ–¥–∏—Ç –≤—Å–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫ —Å –∫–∏—Ä–∏–ª–ª–∏—Ü—ã –≤ –ª–∞—Ç–∏–Ω–∏—Ü—É
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥—É–ª—å `transliterate` + —Ä—É—á–Ω–∞—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞:
  - `—ç` ‚Üí `eh`
  - `—ë` ‚Üí `eu`
- –û–±–Ω–æ–≤–ª—è–µ—Ç –ø—É—Ç–∏ –≤ CSV

---

## üìâ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ü–µ–Ω–∫–∏ OCR

–û—Ü–µ–Ω–∫–∞ –ø—Ä–æ–≤–æ–¥–∏–ª–∞—Å—å –≤ –±–ª–æ–∫–Ω–æ—Ç–µ [`easyocr_tesseractocr_eval_words.ipynb`](./easyocr_tesseractocr_eval_words.ipynb).

| OCR –ú–æ–¥–µ–ª—å   | –¢–æ—á–Ω–æ—Å—Ç—å –Ω–∞ —Å–ª–æ–≤–∞—Ö |
|--------------|--------------------|
| EasyOCR      | **~3%**            |
| Tesseract    | **~20%**           |

> ‚ùó –ú–æ–¥–µ–ª–∏ –Ω–µ –ø–æ–∫–∞–∑–∞–ª–∏ –ø—Ä–∏–µ–º–ª–µ–º—É—é —Ç–æ—á–Ω–æ—Å—Ç—å –Ω–∞ —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã—Ö —Å–ª–æ–≤–∞—Ö, –≤ —Ä—É–∫–æ–ø–∏—Å–Ω–æ–º –∏ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º —à—Ä–∏—Ñ—Ç–µ. –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–∏—Å–∫ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞.

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π

`check.py`:
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –≤—Å–µ –ø—É—Ç–∏ –∏–∑ `CSV` –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã
- –ï—Å–ª–∏ —Ñ–∞–π–ª—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç, –≤—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫

---

## üìö –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã —Ä–µ–∞–ª—å–Ω—ã–µ PDF –∏ —Ç–∞–±–ª–∏—Ü—ã –¢–æ—Ç–∞–ª—å–Ω–æ–≥–æ –¥–∏–∫—Ç–∞–Ω—Ç–∞ 2024 –≥–æ–¥–∞, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ —Ñ–∞–º–∏–ª–∏–∏, –∏–º–µ–Ω–∞ –∏ –∫–æ–¥–æ–≤—ã–µ —Å–ª–æ–≤–∞, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–µ —Å–∏–Ω–∏–º —Ü–≤–µ—Ç–æ–º.

---

## üîß –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install pandas pillow opencv-python tqdm easyocr transliterate
```

---

## üì¶ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞

–ê—Ä—Ö–∏–≤ —Å —Ñ–∏–Ω–∞–ª—å–Ω—ã–º –¥–∞—Ç–∞—Å–µ—Ç–æ–º –¥–ª—è OCR-—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å—Å—ã–ª–∫–µ:

**üì• [–°–∫–∞—á–∞—Ç—å part_1.zip](https://drive.google.com/file/d/1MYNx0zDFZIEoys7o8wHhp4tFhyTAZ77n/view?usp=sharing)**